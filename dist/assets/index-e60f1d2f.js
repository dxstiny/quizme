import{E as y,_ as x}from"./index.vue_vue_type_script_setup_true_lang-11440cb6.js";import{d as V,k as $,m as S,a as T,j as D,b as Q,w as h,o as p,e as n,g as e,f as m,n as a,t as _,I as r,h as g,F as A,r as B,D as I,p as N,i as O,_ as U}from"./index-ff38adcc.js";import{_ as E}from"./WithSidebar.vue_vue_type_style_index_0_lang-f9f4cf37.js";import"./ExpandedDropdown-67e22e82.js";const F=[{label:"Multiple Choice",value:"multiple-choice"},{label:"Multiple Answer",value:"multiple-answer"},{label:"Text Answer",value:"text-answer"},{label:"Number Answer",value:"number-answer"},{label:"True/False",value:"true-false"},{label:"Matching",value:"matching"},{label:"Ordering",value:"ordering"},{label:"Flashcard",value:"flashcard"}],M=v=>(N("data-v-4cc902ce"),v=v(),O(),v),P={class:"wrap"},j={class:"editor"},R={key:0,class:"meta"},z={class:"muted"},L={class:"card"},Y=M(()=>n("h3",null,"Progress",-1)),G={class:"progress"},H={class:"bar"},J=["value"],K={class:"muted"},W={class:"actions"},X={key:1,class:"questions"},Z={class:"question-wrapper"},q={class:"header"},ee={class:"left"},se={class:"muted"},oe={class:"middle"},te={class:"right"},le=["onClick"],ne={key:0,class:"content"},ae={class:"actions"},ie=V({__name:"index",setup(v){const b=$(),f=S(),i=T(),w=b.params.id,o=i.courses.find(t=>t.id===w);o||f.push("/");const C=(t,s)=>{if(t.type===s)return!1;let u=!1;return typeof t.solution=="array"?u=t.solution.length>0:typeof t.solution=="object"?u=Object.keys(t.solution).length>0:u=!!t.solution,u&&!confirm("Are you sure you want to change the question type?")?!1:(s==="multiple-choice"?(t.options=[],t.solution=-1):s==="multiple-answer"?(t.options=[],t.solution=[]):s==="ordering"?t.solution=[]:s==="matching"?t.solution={}:t.solution="",t.type=s,!0)},c=D([]),k=t=>{c.value.includes(t)?c.value=c.value.filter(s=>s!==t):c.value.push(t)};return(t,s)=>(p(),Q(E,null,{default:h(()=>[n("div",P,[n("div",j,[e(o)?(p(),m("div",R,[a(y,{modelValue:e(o).title,"onUpdate:modelValue":s[0]||(s[0]=l=>e(o).title=l),class:"h1"},{default:h(()=>[n("h1",null,_(e(o).title),1)]),_:1},8,["modelValue"]),a(y,{modelValue:e(o).description,"onUpdate:modelValue":s[1]||(s[1]=l=>e(o).description=l)},{default:h(()=>[n("p",z,_(e(o).description),1)]),_:1},8,["modelValue"]),n("div",L,[Y,a(r,{icon:"replay",label:"Reset",onClick:s[2]||(s[2]=l=>e(i).resetProgress(e(o)))}),n("div",G,[n("div",H,[n("progress",{value:e(i).progress(e(o)),max:"100"},null,8,J)]),n("span",K,_(e(i).progress(e(o)))+"%",1)])]),n("div",W,[a(r,{icon:"file_download",label:"Download",onClick:s[3]||(s[3]=l=>e(i).downloadCourse(e(o)))}),a(r,{icon:"school",label:"Start",type:"action-green",onClick:s[4]||(s[4]=l=>e(f).push(`/quiz/${e(o).id}`))}),a(r,{icon:"delete",label:"Delete",type:"action-red",onClick:s[5]||(s[5]=l=>e(i).removeCourse(e(o).id)&&e(f).push("/courses"))})])])):g("",!0),e(o)?(p(),m("div",X,[(p(!0),m(A,null,B(e(o).questions,(l,u)=>(p(),m("div",Z,[n("div",q,[n("div",ee,[a(r,{icon:"arrow_upward",onClick:d=>e(i).moveQuestionUp(e(o),l)},null,8,["onClick"]),n("span",se,_(u+1)+" / "+_(e(o).questions.length),1),a(r,{icon:"arrow_downward",onClick:d=>e(i).moveQuestionDown(e(o),l)},null,8,["onClick"])]),n("div",oe,[a(I,{options:e(F),modelValue:l.type,"onUpdate:modelValue":d=>l.type=d,onChange:d=>C(l,d),label:"type"},null,8,["options","modelValue","onUpdate:modelValue","onChange"]),a(r,{icon:"delete",type:"action-red",onClick:d=>e(o).questions.splice(e(o).questions.indexOf(l),1)},null,8,["onClick"])]),n("div",te,[n("span",{class:"muted material-symbols-rounded cursor-pointer",onClick:d=>k(l.id)},_(c.value.includes(l.id)?"expand_less":"expand_more"),9,le)])]),c.value.includes(l.id)?g("",!0):(p(),m("div",ne,[a(x,{question:l,editable:""},null,8,["question"])]))]))),256)),n("div",ae,[a(r,{icon:"add",label:"Add",type:"action-green",onClick:s[6]||(s[6]=l=>e(o).questions.push({id:Math.random().toString(36).substring(2,9),type:"text-answer",title:"Question",question:"Question",solution:""}))})])])):g("",!0)])])]),_:1}))}});const pe=U(ie,[["__scopeId","data-v-4cc902ce"]]);export{pe as default};
