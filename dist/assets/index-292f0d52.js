import{E as g,_ as x}from"./index.vue_vue_type_script_setup_true_lang-6dde0865.js";import{d as V,k as $,n as S,a as T,j as B,b as D,w as h,o as p,e as n,g as e,f as m,q as a,t as _,I as r,h as b,F as A,r as F,D as I,p as N,i as O,_ as U}from"./index-4f72fbc8.js";import{_ as E}from"./WithSidebar.vue_vue_type_style_index_0_lang-7746e9bb.js";import"./ExpandedDropdown-2c589df2.js";const M=[{label:"Multiple Choice",value:"multiple-choice"},{label:"Multiple Answer",value:"multiple-answer"},{label:"Text Answer",value:"text-answer"},{label:"Number Answer",value:"number-answer"},{label:"True/False",value:"true-false"},{label:"Fill in the Blank",value:"fill-in-the-blank"},{label:"Matching",value:"matching"},{label:"Ordering",value:"ordering"},{label:"Flashcard",value:"flashcard"}],P=v=>(N("data-v-717b7c62"),v=v(),O(),v),Q={class:"wrap"},j={class:"editor"},R={key:0,class:"meta"},z={class:"muted"},L={class:"card"},Y=P(()=>n("h3",null,"Progress",-1)),G={class:"progress"},H={class:"bar"},J=["value"],K={class:"muted"},W={class:"actions"},X={key:1,class:"questions"},Z={class:"question-wrapper"},q={class:"header"},ee={class:"left"},se={class:"muted"},le={class:"middle"},oe={class:"right"},te=["onClick"],ne={key:0,class:"content"},ae={class:"actions"},ie=V({__name:"index",setup(v){const y=$(),f=S(),i=T(),k=y.params.id,l=i.courses.find(o=>o.id===k);l||f.push("/");const w=(o,s)=>{if(o.type===s)return!1;let u=!1;return typeof o.solution=="array"?u=o.solution.length>0:typeof o.solution=="object"?u=Object.keys(o.solution).length>0:u=!!o.solution,u&&!confirm("Are you sure you want to change the question type?")?!1:(s==="multiple-choice"?(o.options=[],o.solution=-1):s==="multiple-answer"?(o.options=[],o.solution=[]):s==="ordering"?o.solution=[]:s==="fill-in-the-blank"?o.solution=[]:s==="matching"?o.solution={}:o.solution="",o.type=s,!0)},c=B([]),C=o=>{c.value.includes(o)?c.value=c.value.filter(s=>s!==o):c.value.push(o)};return(o,s)=>(p(),D(E,null,{default:h(()=>[n("div",Q,[n("div",j,[e(l)?(p(),m("div",R,[a(g,{modelValue:e(l).title,"onUpdate:modelValue":s[0]||(s[0]=t=>e(l).title=t),class:"h1"},{default:h(()=>[n("h1",null,_(e(l).title),1)]),_:1},8,["modelValue"]),a(g,{modelValue:e(l).description,"onUpdate:modelValue":s[1]||(s[1]=t=>e(l).description=t)},{default:h(()=>[n("p",z,_(e(l).description),1)]),_:1},8,["modelValue"]),n("div",L,[Y,a(r,{icon:"replay",label:"Reset",onClick:s[2]||(s[2]=t=>e(i).resetProgress(e(l)))}),n("div",G,[n("div",H,[n("progress",{value:e(i).progress(e(l)),max:"100"},null,8,J)]),n("span",K,_(e(i).progress(e(l)))+"%",1)])]),n("div",W,[a(r,{icon:"file_download",label:"Download",onClick:s[3]||(s[3]=t=>e(i).downloadCourse(e(l)))}),a(r,{icon:"school",label:"Start",type:"action-green",onClick:s[4]||(s[4]=t=>e(f).push(`/quiz/${e(l).id}`))}),a(r,{icon:"delete",label:"Delete",type:"action-red",onClick:s[5]||(s[5]=t=>e(i).removeCourse(e(l).id)&&e(f).push("/courses"))})])])):b("",!0),e(l)?(p(),m("div",X,[(p(!0),m(A,null,F(e(l).questions,(t,u)=>(p(),m("div",Z,[n("div",q,[n("div",ee,[a(r,{icon:"arrow_upward",onClick:d=>e(i).moveQuestionUp(e(l),t)},null,8,["onClick"]),n("span",se,_(u+1)+" / "+_(e(l).questions.length),1),a(r,{icon:"arrow_downward",onClick:d=>e(i).moveQuestionDown(e(l),t)},null,8,["onClick"])]),n("div",le,[a(I,{options:e(M),modelValue:t.type,"onUpdate:modelValue":d=>t.type=d,onChange:d=>w(t,d),label:"type"},null,8,["options","modelValue","onUpdate:modelValue","onChange"]),a(r,{icon:"delete",type:"action-red",onClick:d=>e(l).questions.splice(e(l).questions.indexOf(t),1)},null,8,["onClick"])]),n("div",oe,[n("span",{class:"muted material-symbols-rounded cursor-pointer",onClick:d=>C(t.id)},_(c.value.includes(t.id)?"expand_less":"expand_more"),9,te)])]),c.value.includes(t.id)?b("",!0):(p(),m("div",ne,[a(x,{question:t,editable:""},null,8,["question"])]))]))),256)),n("div",ae,[a(r,{icon:"add",label:"Add",type:"action-green",onClick:s[6]||(s[6]=t=>e(l).questions.push({id:Math.random().toString(36).substring(2,9),type:"text-answer",title:"",question:"",solution:""}))})])])):b("",!0)])])]),_:1}))}});const pe=U(ie,[["__scopeId","data-v-717b7c62"]]);export{pe as default};
