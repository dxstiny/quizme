import{E as y,_ as k}from"./Question.vue_vue_type_script_setup_true_lang-1d4f5393.js";import{d as x,k as V,m as $,a as T,j as D,b as Q,w as f,o as c,e as n,g as e,f as _,n as a,t as m,I as d,h,F as A,r as B,D as N,_ as O}from"./index-e66d6f44.js";import{_ as S}from"./WithSidebar.vue_vue_type_style_index_0_lang-926d8910.js";const U=[{label:"Multiple Choice",value:"multiple-choice"},{label:"Multiple Answer",value:"multiple-answer"},{label:"Text Answer",value:"text-answer"},{label:"Number Answer",value:"number-answer"},{label:"True/False",value:"true-false"},{label:"Matching",value:"matching"},{label:"Ordering",value:"ordering"},{label:"Flashcard",value:"flashcard"}],E={class:"wrap"},F={class:"editor"},M={key:0,class:"meta"},j={class:"muted"},I={class:"actions"},P={key:1,class:"questions"},R={class:"question-wrapper"},z={class:"header"},L={class:"left"},Y={class:"muted"},G={class:"middle"},H={class:"right"},J=["onClick"],K={key:0,class:"content"},W={class:"actions"},X=x({__name:"index",setup(Z){const g=V(),v=$(),p=T(),w=g.params.id,s=p.courses.find(t=>t.id===w);s||v.push("/");const b=(t,l)=>{if(t.type===l)return!1;let u=!1;return typeof t.solution=="array"?u=t.solution.length>0:typeof t.solution=="object"?u=Object.keys(t.solution).length>0:u=!!t.solution,u&&!confirm("Are you sure you want to change the question type?")?!1:(l==="multiple-choice"?(t.options=[],t.solution=-1):l==="multiple-answer"?(t.options=[],t.solution=[]):l==="ordering"?t.solution=[]:l==="matching"?t.solution={}:t.solution="",t.type=l,!0)},r=D([]),C=t=>{r.value.includes(t)?r.value=r.value.filter(l=>l!==t):r.value.push(t)};return(t,l)=>(c(),Q(S,null,{default:f(()=>[n("div",E,[n("div",F,[e(s)?(c(),_("div",M,[a(y,{modelValue:e(s).title,"onUpdate:modelValue":l[0]||(l[0]=o=>e(s).title=o),class:"h1"},{default:f(()=>[n("h1",null,m(e(s).title),1)]),_:1},8,["modelValue"]),a(y,{modelValue:e(s).description,"onUpdate:modelValue":l[1]||(l[1]=o=>e(s).description=o)},{default:f(()=>[n("p",j,m(e(s).description),1)]),_:1},8,["modelValue"]),n("div",I,[a(d,{icon:"file_download",label:"Download",onClick:l[2]||(l[2]=o=>e(p).downloadCourse(e(s)))}),a(d,{icon:"school",label:"Start",type:"action-green",onClick:l[3]||(l[3]=o=>e(v).push(`/quiz/${e(s).id}`))}),a(d,{icon:"delete",label:"Delete",type:"action-red",onClick:l[4]||(l[4]=o=>e(p).removeCourse(e(s).id)&&e(v).push("/"))})])])):h("",!0),e(s)?(c(),_("div",P,[(c(!0),_(A,null,B(e(s).questions,(o,u)=>(c(),_("div",R,[n("div",z,[n("div",L,[a(d,{icon:"arrow_upward",onClick:i=>e(p).moveQuestionUp(e(s),o)},null,8,["onClick"]),n("span",Y,m(u+1)+" / "+m(e(s).questions.length),1),a(d,{icon:"arrow_downward",onClick:i=>e(p).moveQuestionDown(e(s),o)},null,8,["onClick"])]),n("div",G,[a(N,{options:e(U),modelValue:o.type,"onUpdate:modelValue":i=>o.type=i,onChange:i=>b(o,i),label:"type"},null,8,["options","modelValue","onUpdate:modelValue","onChange"]),a(d,{icon:"delete",type:"action-red",onClick:i=>e(s).questions.splice(e(s).questions.indexOf(o),1)},null,8,["onClick"])]),n("div",H,[n("span",{class:"muted material-symbols-rounded cursor-pointer",onClick:i=>C(o.id)},m(r.value.includes(o.id)?"expand_less":"expand_more"),9,J)])]),r.value.includes(o.id)?h("",!0):(c(),_("div",K,[a(k,{question:o,editable:""},null,8,["question"])]))]))),256)),n("div",W,[a(d,{icon:"add",label:"Add",type:"action-green",onClick:l[5]||(l[5]=o=>e(s).questions.push({id:Math.random().toString(36).substring(2,9),type:"text-answer",title:"Question",question:"Question",solution:""}))})])])):h("",!0)])])]),_:1}))}});const le=O(X,[["__scopeId","data-v-eda25c0e"]]);export{le as default};
