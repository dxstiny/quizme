import{E as y,_ as C}from"./Question.vue_vue_type_script_setup_true_lang-e417a4cd.js";import{d as x,j as V,l as $,a as T,k as B,b as D,w as f,o as c,e as n,g as e,f as _,m as a,t as m,I as d,h,F as Q,r as A,D as N,_ as O}from"./index-43735dea.js";import{_ as S}from"./WithSidebar.vue_vue_type_style_index_0_lang-8d74ef67.js";const U=[{label:"Multiple Choice",value:"multiple-choice"},{label:"Multiple Answer",value:"multiple-answer"},{label:"Text Answer",value:"text-answer"},{label:"Number Answer",value:"number-answer"},{label:"True/False",value:"true-false"},{label:"Fill in the Blank",value:"fill-in-the-blank"},{label:"Matching",value:"matching"},{label:"Ordering",value:"ordering"}],E={class:"wrap"},F={class:"editor"},M={key:0,class:"meta"},j={class:"muted"},I={class:"actions"},P={key:1,class:"questions"},R={class:"question-wrapper"},z={class:"header"},L={class:"left"},Y={class:"muted"},G={class:"middle"},H={class:"right"},J=["onClick"],K={key:0,class:"content"},W={class:"actions"},X=x({__name:"index",setup(Z){const g=V(),v=$(),p=T(),b=g.params.id,s=p.courses.find(l=>l.id===b);s||v.push("/");const w=(l,t)=>{if(l.type===t)return!1;let u=!1;return typeof l.solution=="array"?u=l.solution.length>0:typeof l.solution=="object"?u=Object.keys(l.solution).length>0:u=!!l.solution,u&&!confirm("Are you sure you want to change the question type?")?!1:(t==="multiple-choice"?(l.options=[],l.solution=-1):t==="multiple-answer"?(l.options=[],l.solution=[]):t==="ordering"?l.solution=[]:t==="matching"?l.solution={}:l.solution="",l.type=t,!0)},r=B([]),k=l=>{r.value.includes(l)?r.value=r.value.filter(t=>t!==l):r.value.push(l)};return(l,t)=>(c(),D(S,null,{default:f(()=>[n("div",E,[n("div",F,[e(s)?(c(),_("div",M,[a(y,{modelValue:e(s).title,"onUpdate:modelValue":t[0]||(t[0]=o=>e(s).title=o),class:"h1"},{default:f(()=>[n("h1",null,m(e(s).title),1)]),_:1},8,["modelValue"]),a(y,{modelValue:e(s).description,"onUpdate:modelValue":t[1]||(t[1]=o=>e(s).description=o)},{default:f(()=>[n("p",j,m(e(s).description),1)]),_:1},8,["modelValue"]),n("div",I,[a(d,{icon:"file_download",label:"Download",onClick:t[2]||(t[2]=o=>e(p).downloadCourse(e(s)))}),a(d,{icon:"school",label:"Start",type:"action-green",onClick:t[3]||(t[3]=o=>e(v).push(`/quiz/${e(s).id}`))}),a(d,{icon:"delete",label:"Delete",type:"action-red",onClick:t[4]||(t[4]=o=>e(p).removeCourse(e(s).id)&&e(v).push("/"))})])])):h("",!0),e(s)?(c(),_("div",P,[(c(!0),_(Q,null,A(e(s).questions,(o,u)=>(c(),_("div",R,[n("div",z,[n("div",L,[a(d,{icon:"arrow_upward",onClick:i=>e(p).moveQuestionUp(e(s),o)},null,8,["onClick"]),n("span",Y,m(u+1)+" / "+m(e(s).questions.length),1),a(d,{icon:"arrow_downward",onClick:i=>e(p).moveQuestionDown(e(s),o)},null,8,["onClick"])]),n("div",G,[a(N,{options:e(U),modelValue:o.type,"onUpdate:modelValue":i=>o.type=i,onChange:i=>w(o,i),label:"type"},null,8,["options","modelValue","onUpdate:modelValue","onChange"]),a(d,{icon:"delete",type:"action-red",onClick:i=>e(s).questions.splice(e(s).questions.indexOf(o),1)},null,8,["onClick"])]),n("div",H,[n("span",{class:"muted material-symbols-rounded cursor-pointer",onClick:i=>k(o.id)},m(r.value.includes(o.id)?"expand_less":"expand_more"),9,J)])]),r.value.includes(o.id)?h("",!0):(c(),_("div",K,[a(C,{question:o,editable:""},null,8,["question"])]))]))),256)),n("div",W,[a(d,{icon:"add",label:"Add",type:"action-green",onClick:t[5]||(t[5]=o=>e(s).questions.push({id:Math.random().toString(36).substring(2,9),type:"text-answer",title:"Question",question:"Question",solution:""}))})])])):h("",!0)])])]),_:1}))}});const te=O(X,[["__scopeId","data-v-eda25c0e"]]);export{te as default};
