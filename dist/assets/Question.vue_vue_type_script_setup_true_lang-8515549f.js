import{d as k,r as f,q as C,g as r,m as $,s as g,v as h,n as B,x as V,y as I,o as i,b as m,c as y,w as p,j as v,F as T,k as E,z as x,A as M,t as q,h as S,p as O,a as U}from"./index-7b9869b5.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";const N=k({__name:"EditableText",props:{modelValue:{type:String,required:!0},locked:{type:Boolean,default:!1},noOutline:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,c=f(l.modelValue);C(()=>l.modelValue,n=>c.value=n);const d=f(!1),u=f(null),a=()=>{l.locked||(d.value=!0,I(()=>{u.value&&u.value.focus()}))};return(n,o)=>(i(),r("div",{class:"editable-text",onDblclick:a},[d.value?g((i(),r("textarea",{key:1,ref_key:"area",ref:u,"onUpdate:modelValue":o[0]||(o[0]=s=>c.value=s),class:B({outlined:!e.noOutline}),onInput:o[1]||(o[1]=s=>t("update:modelValue",s.target.value)),onKeydown:[o[2]||(o[2]=V(s=>d.value=!1,["enter"])),o[3]||(o[3]=V(s=>d.value=!1,["esc"]))],onBlur:o[4]||(o[4]=s=>d.value=!1),onFocusout:o[5]||(o[5]=s=>d.value=!1)},null,34)),[[h,c.value]]):$(n.$slots,"default",{key:0},void 0,!0)],32))}});const b=w(N,[["__scopeId","data-v-2e02182f"]]),_=e=>(O("data-v-4089a709"),e=e(),U(),e),j={class:"question multiple-choice"},D={class:"header"},F={class:"options"},z=["onClick"],A=["onClick"],K=_(()=>m("span",{class:"material-symbols-rounded add"}," add ",-1)),L=k({__name:"MultipleChoice",props:{question:{type:Object,required:!0},disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!1}},setup(e){const t=e,l=f([]),c=()=>{if(t.editable){l.value=t.question.options;return}const u=t.question.options[t.question.solution];l.value=t.question.options.sort(()=>Math.random()-.5),t.question.solution=l.value.findIndex(a=>a===u),t.question.options=t.question.options};c(),C(()=>t.question.options,c);const d=u=>{if(!t.disabled){if(t.editable){t.question.solution=u;return}t.question.answer=u}};return(u,a)=>(i(),r("div",j,[m("div",D,[e.question.title?(i(),y(b,{key:0,locked:!e.editable,modelValue:e.question.title,"onUpdate:modelValue":a[0]||(a[0]=n=>e.question.title=n)},{default:p(()=>[m("h1",null,q(e.question.title),1)]),_:1},8,["locked","modelValue"])):v("",!0),e.question.question?(i(),y(b,{key:1,locked:!e.editable,modelValue:e.question.question,"onUpdate:modelValue":a[1]||(a[1]=n=>e.question.question=n)},{default:p(()=>[m("p",null,q(e.question.question),1)]),_:1},8,["locked","modelValue"])):v("",!0)]),m("div",F,[(i(!0),r(T,null,E(l.value,(n,o)=>(i(),r("div",{class:B(["option",{selected:!e.editable&&t.question.answer===o,correct:e.editable&&t.question.solution===o}]),onClick:s=>d(o)},[S(b,{locked:!e.editable,"no-outline":"",modelValue:l.value[o],"onUpdate:modelValue":s=>l.value[o]=s},{default:p(()=>[m("span",null,q(n),1)]),_:2},1032,["locked","modelValue","onUpdate:modelValue"]),e.editable?(i(),r("span",{key:0,class:"material-symbols-rounded delete",onClick:x(s=>t.question.options.splice(o,1),["stop"])}," delete ",8,A)):v("",!0)],10,z))),256)),e.editable?(i(),r("div",{key:0,class:"option add",onClick:a[2]||(a[2]=x(n=>t.question.options.push(""),["stop"]))},[K,M(" Add ")])):v("",!0)])]))}});const Q=w(L,[["__scopeId","data-v-4089a709"]]),J=k({__name:"Question",props:{question:{type:Object,required:!0},disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!1}},setup(e){return(t,l)=>e.question.type==="multiple-choice"?(i(),y(Q,{key:0,question:e.question,disabled:e.disabled,editable:e.editable},null,8,["question","disabled","editable"])):v("",!0)}});export{b as E,J as _};
