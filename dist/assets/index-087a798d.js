import{E as m,_ as b}from"./Question.vue_vue_type_script_setup_true_lang-55bee49c.js";import{d as g,u as k,j as C,h as x,a as V,w as _,o as u,b as i,l as e,e as c,k as a,t as f,I as r,f as v,F as $,r as T,D as B,_ as D}from"./index-23f5850a.js";import{_ as A}from"./WithSidebar.vue_vue_type_style_index_0_lang-eb57ff9d.js";const N=[{label:"Multiple Choice",value:"multiple-choice"},{label:"Multiple Answer",value:"multiple-answer"},{label:"Text Answer",value:"text-answer"},{label:"Number Answer",value:"number-answer"},{label:"True/False",value:"true-false"},{label:"Fill in the Blank",value:"fill-in-the-blank"},{label:"Matching",value:"matching"},{label:"Ordering",value:"ordering"}],O={class:"wrap"},Q={class:"editor"},S={key:0,class:"meta"},U={class:"muted"},E={class:"actions"},F={key:1,class:"questions"},I={class:"question-wrapper"},M={class:"header"},j={class:"left"},P={class:"middle"},R={class:"right"},z={class:"content"},L={class:"actions"},Y=g({__name:"index",setup(G){const h=k(),p=C(),d=x(),y=h.params.id,o=d.courses.find(l=>l.id===y);o||p.push("/");const w=(l,t)=>{if(l.type===t)return!1;let n=!1;return typeof l.solution=="array"?n=l.solution.length>0:typeof l.solution=="object"?n=Object.keys(l.solution).length>0:n=!!l.solution,n&&!confirm("Are you sure you want to change the question type?")?!1:(t==="multiple-choice"?(l.options=[],l.solution=0):t==="multiple-answer"?l.solution=[]:t==="ordering"?l.solution=[]:t==="matching"?l.solution={}:l.solution="",l.type=t,!0)};return(l,t)=>(u(),V(A,null,{default:_(()=>[i("div",O,[i("div",Q,[e(o)?(u(),c("div",S,[a(m,{modelValue:e(o).title,"onUpdate:modelValue":t[0]||(t[0]=s=>e(o).title=s),class:"h1"},{default:_(()=>[i("h1",null,f(e(o).title),1)]),_:1},8,["modelValue"]),a(m,{modelValue:e(o).description,"onUpdate:modelValue":t[1]||(t[1]=s=>e(o).description=s)},{default:_(()=>[i("p",U,f(e(o).description),1)]),_:1},8,["modelValue"]),i("div",E,[a(r,{icon:"file_download",label:"Download",onClick:t[2]||(t[2]=s=>e(d).downloadCourse(e(o)))}),a(r,{icon:"school",label:"Start",type:"action-green",onClick:t[3]||(t[3]=s=>e(p).push(`/quiz/${e(o).id}`))}),a(r,{icon:"delete",label:"Delete",type:"action-red",onClick:t[4]||(t[4]=s=>e(d).removeCourse(e(o).id)&&e(p).push("/"))})])])):v("",!0),e(o)?(u(),c("div",F,[(u(!0),c($,null,T(e(o).questions,s=>(u(),c("div",I,[i("div",M,[i("div",j,[a(r,{icon:"arrow_upward",onClick:n=>e(d).moveQuestionUp(e(o),s)},null,8,["onClick"]),a(r,{icon:"arrow_downward",onClick:n=>e(d).moveQuestionDown(e(o),s)},null,8,["onClick"])]),i("div",P,[a(B,{options:e(N),modelValue:s.type,"onUpdate:modelValue":n=>s.type=n,onChange:n=>w(s,n),label:"type"},null,8,["options","modelValue","onUpdate:modelValue","onChange"])]),i("div",R,[a(r,{icon:"delete",type:"action-red",onClick:n=>e(o).questions.splice(e(o).questions.indexOf(s),1)},null,8,["onClick"])])]),i("div",z,[a(b,{question:s,editable:""},null,8,["question"])])]))),256)),i("div",L,[a(r,{icon:"add",label:"Add",type:"action-green",onClick:t[5]||(t[5]=s=>e(o).questions.push({id:Math.random().toString(36).substring(2,9),type:"text-answer",title:"Question",question:"Question",solution:""}))})])])):v("",!0)])])]),_:1}))}});const W=D(Y,[["__scopeId","data-v-166a2f99"]]);export{W as default};
