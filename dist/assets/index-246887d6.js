import{E as g,_ as k}from"./Question.vue_vue_type_script_setup_true_lang-c79645a2.js";import{d as x,k as V,m as $,a as T,j as D,b as Q,w as f,o as p,e as n,g as e,f as m,n as a,t as _,I as r,h,F as A,r as B,D as N,_ as O}from"./index-5d7594d0.js";import{_ as S}from"./WithSidebar.vue_vue_type_style_index_0_lang-9cef6155.js";const U=[{label:"Multiple Choice",value:"multiple-choice"},{label:"Multiple Answer",value:"multiple-answer"},{label:"Text Answer",value:"text-answer"},{label:"Number Answer",value:"number-answer"},{label:"True/False",value:"true-false"},{label:"Matching",value:"matching"},{label:"Ordering",value:"ordering"},{label:"Flashcard",value:"flashcard"}],E={class:"wrap"},F={class:"editor"},M={key:0,class:"meta"},j={class:"muted"},P={class:"progress"},I={class:"bar"},R=["value"],z={class:"muted"},L={class:"actions"},Y={key:1,class:"questions"},G={class:"question-wrapper"},H={class:"header"},J={class:"left"},K={class:"muted"},W={class:"middle"},X={class:"right"},Z=["onClick"],q={key:0,class:"content"},ee={class:"actions"},se=x({__name:"index",setup(oe){const y=V(),v=$(),i=T(),b=y.params.id,o=i.courses.find(t=>t.id===b);o||v.push("/");const w=(t,s)=>{if(t.type===s)return!1;let c=!1;return typeof t.solution=="array"?c=t.solution.length>0:typeof t.solution=="object"?c=Object.keys(t.solution).length>0:c=!!t.solution,c&&!confirm("Are you sure you want to change the question type?")?!1:(s==="multiple-choice"?(t.options=[],t.solution=-1):s==="multiple-answer"?(t.options=[],t.solution=[]):s==="ordering"?t.solution=[]:s==="matching"?t.solution={}:t.solution="",t.type=s,!0)},u=D([]),C=t=>{u.value.includes(t)?u.value=u.value.filter(s=>s!==t):u.value.push(t)};return(t,s)=>(p(),Q(S,null,{default:f(()=>[n("div",E,[n("div",F,[e(o)?(p(),m("div",M,[a(g,{modelValue:e(o).title,"onUpdate:modelValue":s[0]||(s[0]=l=>e(o).title=l),class:"h1"},{default:f(()=>[n("h1",null,_(e(o).title),1)]),_:1},8,["modelValue"]),a(g,{modelValue:e(o).description,"onUpdate:modelValue":s[1]||(s[1]=l=>e(o).description=l)},{default:f(()=>[n("p",j,_(e(o).description),1)]),_:1},8,["modelValue"]),n("div",P,[a(r,{icon:"replay",onClick:s[2]||(s[2]=l=>e(i).resetProgress(e(o)))}),n("div",I,[n("progress",{value:e(i).progress(e(o)),max:"100"},null,8,R)]),n("span",z,_(e(i).progress(e(o)))+"%",1)]),n("div",L,[a(r,{icon:"file_download",label:"Download",onClick:s[3]||(s[3]=l=>e(i).downloadCourse(e(o)))}),a(r,{icon:"school",label:"Start",type:"action-green",onClick:s[4]||(s[4]=l=>e(v).push(`/quiz/${e(o).id}`))}),a(r,{icon:"delete",label:"Delete",type:"action-red",onClick:s[5]||(s[5]=l=>e(i).removeCourse(e(o).id)&&e(v).push("/courses"))})])])):h("",!0),e(o)?(p(),m("div",Y,[(p(!0),m(A,null,B(e(o).questions,(l,c)=>(p(),m("div",G,[n("div",H,[n("div",J,[a(r,{icon:"arrow_upward",onClick:d=>e(i).moveQuestionUp(e(o),l)},null,8,["onClick"]),n("span",K,_(c+1)+" / "+_(e(o).questions.length),1),a(r,{icon:"arrow_downward",onClick:d=>e(i).moveQuestionDown(e(o),l)},null,8,["onClick"])]),n("div",W,[a(N,{options:e(U),modelValue:l.type,"onUpdate:modelValue":d=>l.type=d,onChange:d=>w(l,d),label:"type"},null,8,["options","modelValue","onUpdate:modelValue","onChange"]),a(r,{icon:"delete",type:"action-red",onClick:d=>e(o).questions.splice(e(o).questions.indexOf(l),1)},null,8,["onClick"])]),n("div",X,[n("span",{class:"muted material-symbols-rounded cursor-pointer",onClick:d=>C(l.id)},_(u.value.includes(l.id)?"expand_less":"expand_more"),9,Z)])]),u.value.includes(l.id)?h("",!0):(p(),m("div",q,[a(k,{question:l,editable:""},null,8,["question"])]))]))),256)),n("div",ee,[a(r,{icon:"add",label:"Add",type:"action-green",onClick:s[6]||(s[6]=l=>e(o).questions.push({id:Math.random().toString(36).substring(2,9),type:"text-answer",title:"Question",question:"Question",solution:""}))})])])):h("",!0)])])]),_:1}))}});const ae=O(se,[["__scopeId","data-v-25d0aa29"]]);export{ae as default};
