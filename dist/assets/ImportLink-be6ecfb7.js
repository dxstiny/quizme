import{d as y,k as b,n as C,a as I,j as _,l as $,b as B,w as j,o,e as t,t as c,a3 as L,f as n,F as N,r as q,q as d,I as p,g as R,_ as V}from"./index-23a2b77b.js";import{_ as F}from"./WithSidebar.vue_vue_type_style_index_0_lang-9c76cbca.js";const S={class:"wrap"},A={class:"flex-col"},D={key:0,class:"text-muted italic text-sm"},E={key:1,class:"p-4 mt-4 w-max flex flex-col gap-4"},M={class:"items"},T={class:"card flex gap-2 items-center"},z={class:"flex flex-col"},G={class:"text-muted uppercase text-sm"},H={class:"text-muted italic"},J={class:"buttons flex gap-2"},K=y({__name:"ImportLink",setup(O){const h=b(),l=C(),m=I(),i=_(""),e=_([]);$(async()=>{const r=h.params.id,a=atob(r),[s,...x]=a.split(":");if(s==="gist"){const[u,v,g]=x,k=`https://gist.githubusercontent.com/${u}/${v}/raw/${g}`,w=await(await fetch(k)).json();e.value=[w],i.value=u}});const f=async()=>{await m.addCourse(e.value[0]),l.push(`/courses/${e.value[0].id}`)};return(r,a)=>(o(),B(F,null,{default:j(()=>[t("div",S,[t("div",A,[t("strong",null,c(i.value),1),L(" wants to share: "),e.value.length==0?(o(),n("span",D,"Nothing")):(o(),n("div",E,[t("div",M,[(o(!0),n(N,null,q(e.value,s=>(o(),n("div",T,[t("div",z,[t("h4",null,c(s.title),1),t("span",G,c(s.description),1),t("span",H,c(s.questions.length)+" questions ",1)])]))),256))]),t("div",J,[d(p,{type:"action-green",icon:"check",label:"Accept",onClick:f}),d(p,{type:"action-red",icon:"close",label:"Reject",onClick:a[0]||(a[0]=s=>R(l).push("/"))})])]))])])]),_:1}))}});const W=V(K,[["__scopeId","data-v-c5237c82"]]);export{W as default};
