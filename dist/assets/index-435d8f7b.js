import{E as g,_ as $}from"./Question.vue_vue_type_script_setup_true_lang-79771809.js";import{I as _}from"./IconButton-e1037f94.js";import{d as C,r as D,l as w,o as u,g as c,t as f,j as b,m as S,v as T,b as n,F as k,k as V,u as A,e as B,c as U,w as y,i as e,h as r}from"./index-d68fe823.js";import{u as F}from"./course-b6dab75e.js";import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as I}from"./WithSidebar.vue_vue_type_style_index_0_lang-bfe63dd5.js";const M={class:"dropdown"},N={key:0},O=["value"],Q=C({__name:"Dropdown",props:{modelValue:{type:String,required:!0},options:{type:Array,required:!0},label:{type:String,required:!1},onChange:{type:Function,required:!1}},emits:["update:modelValue"],setup(v,{emit:h}){const d=v,a=D(d.modelValue);return w(()=>d.modelValue,p=>a.value=p),w(a,p=>{if(d.onChange){d.onChange(p)||(a.value=d.modelValue);return}h("update:modelValue",p)}),(p,t)=>(u(),c("div",M,[v.label?(u(),c("label",N,f(v.label),1)):b("",!0),S(n("select",{"onUpdate:modelValue":t[0]||(t[0]=m=>a.value=m)},[(u(!0),c(k,null,V(v.options,m=>(u(),c("option",{value:m.value},f(m.label),9,O))),256))],512),[[T,a.value]])]))}});const E=x(Q,[["__scopeId","data-v-ad3c6e79"]]),j=[{label:"Multiple Choice",value:"multiple-choice"},{label:"Multiple Answer",value:"multiple-answer"},{label:"Text Answer",value:"text-answer"},{label:"Number Answer",value:"number-answer"},{label:"True/False",value:"true-false"},{label:"Fill in the Blank",value:"fill-in-the-blank"},{label:"Matching",value:"matching"},{label:"Ordering",value:"ordering"}],P={class:"wrap"},R={class:"editor"},z={key:0,class:"meta"},L={class:"muted"},Y={class:"actions"},G={key:1,class:"questions"},H={class:"question-wrapper"},J={class:"header"},K={class:"left"},W={class:"middle"},X={class:"right"},Z={class:"content"},q={class:"actions"},ee=C({__name:"index",setup(v){const h=A(),d=B(),a=F(),p=h.params.id,t=a.courses.find(l=>l.id===p);t||d.push("/");const m=(l,o)=>{if(l.type===o)return!1;let i=!1;return typeof l.solution=="array"?i=l.solution.length>0:typeof l.solution=="object"?i=Object.keys(l.solution).length>0:i=!!l.solution,i&&!confirm("Are you sure you want to change the question type?")?!1:(o==="multiple-choice"?(l.options=[],l.solution=0):o==="multiple-answer"?l.solution=[]:o==="ordering"?l.solution=[]:o==="matching"?l.solution={}:l.solution="",l.type=o,!0)};return(l,o)=>(u(),U(I,null,{default:y(()=>[n("div",P,[n("div",R,[e(t)?(u(),c("div",z,[r(g,{modelValue:e(t).title,"onUpdate:modelValue":o[0]||(o[0]=s=>e(t).title=s),class:"h1"},{default:y(()=>[n("h1",null,f(e(t).title),1)]),_:1},8,["modelValue"]),r(g,{modelValue:e(t).description,"onUpdate:modelValue":o[1]||(o[1]=s=>e(t).description=s)},{default:y(()=>[n("p",L,f(e(t).description),1)]),_:1},8,["modelValue"]),n("div",Y,[r(_,{icon:"file_download",label:"Download",onClick:o[2]||(o[2]=s=>e(a).downloadCourse(e(t)))}),r(_,{icon:"school",label:"Start",type:"action-green",onClick:o[3]||(o[3]=s=>e(d).push(`/quiz/${e(t).id}`))}),r(_,{icon:"delete",label:"Delete",type:"action-red",onClick:o[4]||(o[4]=s=>e(a).removeCourse(e(t).id)&&e(d).push("/"))})])])):b("",!0),e(t)?(u(),c("div",G,[(u(!0),c(k,null,V(e(t).questions,s=>(u(),c("div",H,[n("div",J,[n("div",K,[r(_,{icon:"arrow_upward",onClick:i=>e(a).moveQuestionUp(e(t),s)},null,8,["onClick"]),r(_,{icon:"arrow_downward",onClick:i=>e(a).moveQuestionDown(e(t),s)},null,8,["onClick"])]),n("div",W,[r(E,{options:e(j),modelValue:s.type,"onUpdate:modelValue":i=>s.type=i,onChange:i=>m(s,i),label:"type"},null,8,["options","modelValue","onUpdate:modelValue","onChange"])]),n("div",X,[r(_,{icon:"delete",type:"action-red",onClick:i=>e(t).questions.splice(e(t).questions.indexOf(s),1)},null,8,["onClick"])])]),n("div",Z,[r($,{question:s,editable:""},null,8,["question"])])]))),256)),n("div",q,[r(_,{icon:"add",label:"Add",type:"action-green",onClick:o[5]||(o[5]=s=>e(t).questions.push({id:Math.random().toString(36).substring(2,9),type:"text-answer",title:"Question",question:"Question",solution:""}))})])])):b("",!0)])])]),_:1}))}});const ie=x(ee,[["__scopeId","data-v-166a2f99"]]);export{ie as default};
