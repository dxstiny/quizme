import{B as a,r as c,q as d}from"./index-7b9869b5.js";const l=(t,s=15)=>{const r={id:t.id,title:t.title,description:t.description,questions:[]};r.questions=t.questions.slice(0,s);for(const o of r.questions)o.answer&&console.warn("Question already has an answer",o),delete o.answer;return JSON.parse(JSON.stringify(r))},u="quizme.courses",S=a("course",()=>{const t=JSON.parse(localStorage.getItem(u)||"[]"),s=c(t);d(s,e=>{localStorage.setItem(u,JSON.stringify(e))},{deep:!0});const r=e=>{s.value.push(e)},o=e=>s.value.find(n=>n.id===e);return{courses:s,addCourse:r,getCourse:o,removeCourse:e=>{const n=s.value.findIndex(i=>i.id===e);s.value.splice(n,1)},getQuiz:(e,n=15)=>{const i=o(e);if(!i)throw new Error(`Course ${e} not found`);return l(i,n)}}});export{S as u};
